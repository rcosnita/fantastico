<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dynamic menu &mdash; fantastico 0.7.0-b140 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootswatch-3.0.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.7.0-b140',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="fantastico 0.7.0-b140 documentation" href="../../../index.html" />
    <link rel="up" title="Built in components" href="../../components_builtin.html" />
    <link rel="next" title="Dynamic pages" href="../dynamic_pages/dynamic_pages.html" />
    <link rel="prev" title="Built in components" href="../../components_builtin.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html">
          Fantastico framework</a>
        <span class="navbar-text navbar-version pull-left"><b>0.7.0-b140</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="../../../index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Fantastico <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../intro.html#why-another-python-framework">Why another python framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../intro.html#fantastico-s-initial-ideas">Fantastico&#8217;s initial ideas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../get_started/getting_started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../get_started/installation.html">Installation manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../get_started/settings.html">Fantastico settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../get_started/contribute.html">Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../get_started/dev_mode.html">Development mode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../how_to/how_to.html">How to articles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../how_to/new_project_how_to.html">Creating a new project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how_to/todo/index.html">Creating a simple TODO application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how_to/mvc_how_to.html">MVC How to</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how_to/deployment_how_to.html">Deployment how to</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how_to/static_assets.html">Static assets</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../features.html">Fantastico features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../exceptions.html">Exceptions hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../request_response.html">Request lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../routing_engine.html">Routing engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mvc.html">Model View Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cors.html">CORS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../roa.html">ROA (Resource Oriented Architecture)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oauth2.html">OAUTH2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sdk.html">SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../component_model.html">Component model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../component_reusage.html">Component reusage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../components_builtin.html">Built in components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../changes.html">Changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../changes.html#feedback">Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../changes.html#versions">Versions</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Dynamic menu</a><ul>
<li><a class="reference internal" href="#integration">Integration</a><ul>
<li><a class="reference internal" href="#component-files-activation-deprecated">Component files activation deprecated</a></li>
<li><a class="reference internal" href="#component-files-activation-sdk">Component files activation (SDK)</a></li>
<li><a class="reference internal" href="#component-sample-db-data">Component sample + db data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#current-limitations">Current limitations</a></li>
<li><a class="reference internal" href="#technical-summary">Technical summary</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../../components_builtin.html" title="Previous Chapter: Built in components"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Built in compone...</span>
    </a>
  </li>
  <li>
    <a href="../dynamic_pages/dynamic_pages.html" title="Next Chapter: Dynamic pages"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Dynamic pages &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../../_sources/features/components/dynamic_menu/dynamic_menu.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="dynamic-menu">
<h1>Dynamic menu<a class="headerlink" href="#dynamic-menu" title="Permalink to this headline">¶</a></h1>
<p>Menus are a core part of every web site / application as well as mobile applications. More over, again and again
developers will want a quick way to define menu items without actually redefining menu data structure again and again.
This component which we generic named dynamic menu simply provides the controller and the model for easy development of menus.</p>
<div class="section" id="integration">
<h2>Integration<a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h2>
<p>In order to use dynamic menu component within your project follow the steps below:</p>
<div class="section" id="component-files-activation-deprecated">
<h3>Component files activation deprecated<a class="headerlink" href="#component-files-activation-deprecated" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Create a symbolic link under your root components folder to dynamic_menu.</p>
<div class="highlight-bash"><div class="highlight"><pre>mkdir &lt;components root&gt;/dynamic_menu
<span class="nb">cd</span> &lt;components root&gt;/dynamic_menu
ln -s ../../pip-deps/lib/python<span class="o">[</span>version<span class="o">]</span>/site-packages/fantastico/contrib/dynamic_menu/sql .
ln -s ../../pip-deps/lib/python<span class="o">[</span>version<span class="o">]</span>/site-packages/fantastico/contrib/dynamic_menu/tests .
ln -s ../../pip-deps/lib/python<span class="o">[</span>version<span class="o">]</span>/site-packages/fantastico/contrib/dynamic_menu/*.py .
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="component-files-activation-sdk">
<h3>Component files activation (SDK)<a class="headerlink" href="#component-files-activation-sdk" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>fsdk activate-extension --name dynamic_menu --comp-root &lt;comp root&gt;
</pre></div>
</div>
</div>
<div class="section" id="component-sample-db-data">
<h3>Component sample + db data<a class="headerlink" href="#component-sample-db-data" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Create a template in one of your components in which you define the menu view:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- *sample_menu.html* - simple snippet for creating a left / right side dockable menu. --&gt;</span>
{% for menu_item in model[&quot;items&quot;] %}
   <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{menu_item.url}}&quot;</span> <span class="na">title=</span><span class="s">&quot;{{menu_item.title}}&quot;</span> <span class="na">target=</span><span class="s">&quot;{{menu_item.target}}&quot;</span><span class="nt">&gt;</span>{{menu_item.label}}<span class="nt">&lt;/a&gt;&lt;br/&gt;</span>
{% endfor %}
</pre></div>
</div>
</li>
<li><p class="first">In all views where you want to reuse the component you can paste the following snippet:</p>
<div class="highlight-html"><div class="highlight"><pre>{% component template=&quot;sample_menu.html&quot;, url=&quot;/dynamic-menu/menus/1/items/&quot; %}{% endcomponent %}
</pre></div>
</div>
</li>
<li><p class="first">Make sure you run <strong>dynamic_menu/sql/module_setup.sql</strong> against your configured database.</p>
</li>
<li><p class="first">This script will create <strong>menus</strong> and <strong>menu_items</strong> tables into your database. Below you can find a sample script for creating a menu:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">menus</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;My First Menu&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">menu_items</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;_blank&#39;</span><span class="p">,</span> <span class="s1">&#39;/homepage&#39;</span><span class="p">,</span> <span class="s1">&#39;Simple and friendly description&#39;</span><span class="p">,</span> <span class="s1">&#39;Home&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">menu_id</span> <span class="k">from</span> <span class="n">previous</span> <span class="n">step</span><span class="o">&gt;</span><span class="p">),</span>
       <span class="p">(</span><span class="s1">&#39;_blank&#39;</span><span class="p">,</span> <span class="s1">&#39;/page2&#39;</span><span class="p">,</span> <span class="s1">&#39;Simple and friendly description&#39;</span><span class="p">,</span> <span class="s1">&#39;Page 2&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">menu_id</span> <span class="k">from</span> <span class="n">previous</span> <span class="n">step</span><span class="o">&gt;</span><span class="p">),</span>
       <span class="p">(</span><span class="s1">&#39;_blank&#39;</span><span class="p">,</span> <span class="s1">&#39;/page3&#39;</span><span class="p">,</span> <span class="s1">&#39;Simple and friendly description&#39;</span><span class="p">,</span> <span class="s1">&#39;Page 3&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">menu_id</span> <span class="k">from</span> <span class="n">previous</span> <span class="n">step</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
<p>By default, when this component is first setup into an application, the sample menu mentioned above is created in database. You
can test to see that dynamic menu works by accessing dev server url: <a class="reference external" href="http://localhost:12000/dynamic-menu/menus/1/items/">http://localhost:12000/dynamic-menu/menus/1/items/</a>.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="current-limitations">
<h2>Current limitations<a class="headerlink" href="#current-limitations" title="Permalink to this headline">¶</a></h2>
<p>Because <strong>Fantastico</strong> framework is developed using an Agile mindset, only the minimum valuable scope was delivered for
<strong>Dynamic Menu</strong> component. This mean is not currently possible to:</p>
<blockquote>
<div><ul class="simple">
<li>Localize your menu items.</li>
<li>Display the menu items in the request language dynamically.</li>
<li>Only first 100 menu items can be currently retrieved.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="technical-summary">
<h2>Technical summary<a class="headerlink" href="#technical-summary" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fantastico.contrib.dynamic_menu.menu_controller.DynamicMenuController">
<em class="property">class </em><tt class="descclassname">fantastico.contrib.dynamic_menu.menu_controller.</tt><tt class="descname">DynamicMenuController</tt><big>(</big><em>settings_facade</em><big>)</big><a class="reference internal" href="../../../_modules/fantastico/contrib/dynamic_menu/menu_controller.html#DynamicMenuController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fantastico.contrib.dynamic_menu.menu_controller.DynamicMenuController" title="Permalink to this definition">¶</a></dt>
<dd><p>This class provides the controller for dynamic menus. The following routes are automatically made available
when dynamic menu component is deployed:</p>
<blockquote>
<div><strong>/dynamic-menu/menus/&lt;menu_id&gt;/items/</strong> &#8211; This route loads menu items from database and retrieve them in json format.</div></blockquote>
<p>Below you can see a diagram describing relation model of the menu:</p>
<img alt="../../../_images/erd.png" src="../../../_images/erd.png" />
<dl class="attribute">
<dt id="fantastico.contrib.dynamic_menu.menu_controller.DynamicMenuController.max_items">
<tt class="descname">max_items</tt><a class="reference internal" href="../../../_modules/fantastico/contrib/dynamic_menu/menu_controller.html#DynamicMenuController.max_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fantastico.contrib.dynamic_menu.menu_controller.DynamicMenuController.max_items" title="Permalink to this definition">¶</a></dt>
<dd><p>This property retrieves the maximum number of items allowed for a menu.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.contrib.dynamic_menu.menu_controller.DynamicMenuController.retrieve_menu_items">
<tt class="descname">retrieve_menu_items</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../../_modules/fantastico/contrib/dynamic_menu/menu_controller.html#DynamicMenuController.retrieve_menu_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fantastico.contrib.dynamic_menu.menu_controller.DynamicMenuController.retrieve_menu_items" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to retrieve all items associated with a specified menu.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<em>HTTP request</em>) &#8211; Http request being processed.</li>
<li><strong>menu_id</strong> (<em>int</em>) &#8211; Menu unique identifier we want to retrieve information for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON array containing all available menu items.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises <a class="reference internal" href="#fantastico.contrib.dynamic_menu.menu_exceptions.FantasticoMenuNotFoundException" title="fantastico.contrib.dynamic_menu.menu_exceptions.FantasticoMenuNotFoundException">fantastico.contrib.dynamic_menu.menu_exceptions.FantasticoMenuNotFoundException</a>:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">Whenever the requested menu does not exist.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fantastico.contrib.dynamic_menu.menu_exceptions.FantasticoMenuNotFoundException">
<em class="property">class </em><tt class="descclassname">fantastico.contrib.dynamic_menu.menu_exceptions.</tt><tt class="descname">FantasticoMenuNotFoundException</tt><big>(</big><em>msg=None</em>, <em>http_code=400</em><big>)</big><a class="reference internal" href="../../../_modules/fantastico/contrib/dynamic_menu/menu_exceptions.html#FantasticoMenuNotFoundException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fantastico.contrib.dynamic_menu.menu_exceptions.FantasticoMenuNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>This class defines a concrete fantastico menu not found exception raised whenever someone tries to access an inexistent
menu attributes.</p>
</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Radu Viorel Cosnita.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1.<br/>
    </p>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42788125-1', 'rcosnita.github.io');
  ga('send', 'pageview');
</script>

  </body>
</html>